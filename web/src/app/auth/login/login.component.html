<div class="page-container container-center container-full">
    <div class="login-container">
        <mat-card class="cards">
            <mat-toolbar color="primary" class="mat-elevation-z2" >
                Login
            </mat-toolbar>

            <mat-card-content>
                <form [formGroup]="logInForm" (ngSubmit)="onSubmit()" class="form">
                    <fieldset [disabled]="isProcessing" class="fieldset">
                        <mat-form-field appearance="outline">
                            <mat-label>Username</mat-label>
                            <input
                            matInput
                            placeholder="Username"
                            formControlName="userName">
                            <mat-error *ngIf="logInForm.controls.userName.errors !== (null || undefined)">{{
                                (logInForm.controls.userName.errors && logInForm.controls.userName.errors['required'] ? 'Please enter your mobile number' : '')
                            }}</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Password</mat-label>
                            <input
                            #password
                            matInput
                            type="password"
                            placeholder="Password"
                            formControlName="password">
                            <mat-icon
                            class="icon-right"
                            (click)="password.type = (password.type === 'password' ? 'text' : 'password')"
                            style="cursor: pointer;"
                            matSuffix>{{ password.type === 'password' ? 'visibility' : 'visibility_off' }}</mat-icon>
                            <mat-error *ngIf="logInForm.controls.password.errors !== (null || undefined)">{{
                                (logInForm.controls.password.errors && logInForm.controls.password.errors['required'] ? 'Please enter your password' : '')
                            }}</mat-error>
                        </mat-form-field>
                        <button mat-raised-button color="primary" type="submit" [disabled]="isProcessing">Login</button>
                        <mat-error class="form-error" *ngIf="error">{{ error }}</mat-error>
                        <div class="forgot-password">
                            <span>Forgot password? Click
                                <a [routerLink]="admin ? '/auth/admin/forgot-password' : '/auth/member/forgot-password'">here</a>
                            </span>
                            <span *ngIf="!admin" >
                                <a routerLink="/auth/member/register">Create account</a>
                            </span>
                        </div>
                    </fieldset>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>
